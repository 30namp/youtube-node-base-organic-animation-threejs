<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>new WebArt Project</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
    </style>
  </head>
  <body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.10.0/p5.min.js"></script>
    <script>
      function SIN(deg) {
        return Math.sin((deg * Math.PI) / 180);
      }

      function COS(deg) {
        return Math.cos((deg * Math.PI) / 180);
      }

      function setup() {
        createCanvas(window.innerWidth, window.innerHeight, WEBGL);
      }

      let alphaChange = 0.8;
      let betaChange = 0.08;

      let betaRange = [-60, 60];

      let alpha = 0;
      let beta = betaRange[0];

      function draw() {
        background(220);

        orbitControl();

        let len = 10;
        let dis = 30;

        let beta2 = 0;

        for (let l = dis; l <= dis * len; l += dis) {
          beta2 += 20;

          for (let thick = 4; thick < 360; thick += 7) {
            let l2 = SIN(beta * SIN(beta2 * thick)) * l;
            let l3 = COS(beta * SIN(beta2 + thick)) * l;
            let x = COS(alpha + thick) * l3;
            let y = SIN(beta * SIN(beta2 + thick)) * l;
            let z = SIN(alpha + thick) * l3;

            translate(x, y, z);
            sphere(2, 10, 10);
            translate(-x, -y, -z);
          }

          beta += betaChange;
          if (beta > betaRange[1] || beta < betaRange[0])
            betaChange = -1 * betaChange;
        }

        alpha += alphaChange;
      }

      // thanks for watching!
      // you can use it on loading pages and etc.
    </script>
  </body>
</html>
